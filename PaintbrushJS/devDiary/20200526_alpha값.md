# 2020년 5월 26일 개발일기

### 투명도 완성의 고지가 보인다!!!

일기가 늦어졌다. 저번 일기 내용처럼 단순하게 알파 값만 낮춰주면 되는게 아니여서 생각 보다 좀 더 손이 많이 갔다.  
처음엔 레이어 캔버스를 만들어서 거기에 투명도값을 레이어의 <code>opacity</code> 값으로 넘겨줬다.
그리니 잘 그려졌다. 그런데 본 캔버스에 병합하는 순간 원색으로 진하게 변했다!  
당연한 거지만 레이어에 css로 들어간 값이라서 원래 자체는 진한색이라 그대로 반영된 것.  
그래서 다시 고민했다. 어떻게 해야 보이는 그대로 들어 갈까? 해서 Text기능에서 사용하던 **Html to Image** 방법을 써보기로 했다.  
중간에 조금 더 머리를 굴려야 해서 시간이 걸렸지만, 무사히 구현되었고(꺄!)  
마우스 이벤트들을 정리해주면서 이렇게 될 지 모르고 확장성있게 짜지 못했던 과거를 후회 했다😭  
코드가 점점 더 지저분 해지고 보기 힘들어 지면서 다 완성되면 리팩토링 해야 하나 까지 생각이 미쳤다(진심으로 고려중)  
이벤트 중첩도 고치고 History에 추가도 잘 되어서 이제 Text에만 반영 되면 끝날것 같다! 휴.
